
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Solicitud de Informe</title>
<style>
  body { 
    font-family: Arial, sans-serif; 
    background-color: #f2f2f2; 
    margin: 20px; 
  }

  h2 { color: #333; }

  #numLineas, button {
    font-size: 18px;
    padding: 8px 12px;
    margin-right: 10px;
  }

  .linea-input {
    background-color: #fff;
    border: 2px solid #4CAF50;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
  }

  .linea-input label {
    display: block;
    font-weight: bold;
    margin-top: 10px;
    font-size: 16px;
  }

  .linea-input input[type="text"], 
  .linea-input select {
    font-size: 16px;
    padding: 8px;
    width: 100%;
    margin-top: 5px;
    border-radius: 5px;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }

  .warning {
    color: #d8000c;
    background-color: #ffbaba;
    padding: 8px;
    border-radius: 5px;
    font-weight: bold;
    margin-bottom: 10px;
  }

  #lineasContainer {
    margin-top: 20px;
  }

  #enviarBtn {
    font-size: 18px;
    padding: 10px 15px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  }

  #enviarBtn:hover {
    background-color: #45a049;
  }
</style>
</head>
<body>

<h2>Solicitud de Informe</h2>

<p>Ingrese la cantidad de líneas para las que desea solicitar informe:</p>
<input type="number" id="numLineas" min="1" max="10" value="1">
<button onclick="generarCampos()">Generar campos</button>

<div id="lineasContainer"></div>

<button id="enviarBtn" onclick="enviar()">Enviar solicitud</button>

<script>
function generarCampos() {
    const container = document.getElementById('lineasContainer');
    container.innerHTML = ''; // limpiar campos previos
    const num = parseInt(document.getElementById('numLineas').value);

    for (let i = 1; i <= num; i++) {
        const div = document.createElement('div');
        div.className = 'linea-input';

        const warning = document.createElement('p');
        warning.className = 'warning';
        warning.textContent = `¡Es muy importante indicar correctamente el nombre de la línea!`;
        div.appendChild(warning);

        const labelNombre = document.createElement('label');
        labelNombre.textContent = `Nombre de la línea ${i}:`;
        const inputNombre = document.createElement('input');
        inputNombre.type = 'text';
        inputNombre.name = `linea${i}`;
        inputNombre.placeholder = 'Ej: Línea A';
        div.appendChild(labelNombre);
        div.appendChild(inputNombre);

        const labelFoto = document.createElement('label');
        labelFoto.textContent = `Seleccionar foto:`;
        const selectFoto = document.createElement('select');
        selectFoto.name = `foto${i}`;
        const option1 = document.createElement('option');
        option1.value = 'primera';
        option1.textContent = 'Primera';
        const option2 = document.createElement('option');
        option2.value = 'ultima';
        option2.textContent = 'Última';
        selectFoto.appendChild(option1);
        selectFoto.appendChild(option2);

        div.appendChild(labelFoto);
        div.appendChild(selectFoto);

        container.appendChild(div);
    }
}

function enviar() {
    const num = parseInt(document.getElementById('numLineas').value);
    const resultados = [];

    for (let i = 1; i <= num; i++) {
        const nombre = document.querySelector(`input[name="linea${i}"]`).value.trim();
        const foto = document.querySelector(`select[name="foto${i}"]`).value;
        if (!nombre) {
            alert(`Debe indicar el nombre de la línea ${i}`);
            return;
        }
        resultados.push({ nombre, foto });
    }

    // Aquí iría la llamada a tu proxy de Netlify para disparar el workflow
    console.log('Datos a enviar:', resultados);
    alert('Solicitud preparada. Revise la consola para ver los datos.');
}
</script>

</body>
</html>
