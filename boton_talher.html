
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Solicitud de Informe</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  .linea-input { margin-bottom: 10px; }
  .warning { color: red; font-weight: bold; margin-bottom: 10px; }
  label { display: block; margin-top: 5px; }
</style>
</head>
<body>

<h2>Solicitud de Informe</h2>
<p>Ingrese la cantidad de líneas para las que desea solicitar informe:</p>
<input type="number" id="numLineas" min="1" max="10" value="1">
<button onclick="generarCampos()">Generar campos</button>

<div id="lineasContainer"></div>

<h3>Diccionario de líneas (ejemplo)</h3>
<ul>
  <li>Línea A</li>
  <li>Línea B</li>
  <li>Línea C</li>
  <li>Línea D</li>
</ul>

<button onclick="enviar()">Enviar solicitud</button>

<script>
function generarCampos() {
    const container = document.getElementById('lineasContainer');
    container.innerHTML = ''; // limpiar campos previos
    const num = parseInt(document.getElementById('numLineas').value);

    for (let i = 1; i <= num; i++) {
        const div = document.createElement('div');
        div.className = 'linea-input';

        const warning = document.createElement('p');
        warning.className = 'warning';
        warning.textContent = `¡Es muy importante indicar correctamente el nombre de la línea! Revíselo en el diccionario.`;
        div.appendChild(warning);

        const labelNombre = document.createElement('label');
        labelNombre.textContent = `Nombre de la línea ${i}:`;
        const inputNombre = document.createElement('input');
        inputNombre.type = 'text';
        inputNombre.name = `linea${i}`;
        inputNombre.placeholder = 'Ej: Línea A';
        div.appendChild(labelNombre);
        div.appendChild(inputNombre);

        const labelFoto = document.createElement('label');
        labelFoto.textContent = `Seleccionar foto:`;
        const selectFoto = document.createElement('select');
        selectFoto.name = `foto${i}`;
        const option1 = document.createElement('option');
        option1.value = 'primera';
        option1.textContent = 'Primera';
        const option2 = document.createElement('option');
        option2.value = 'ultima';
        option2.textContent = 'Última';
        selectFoto.appendChild(option1);
        selectFoto.appendChild(option2);

        div.appendChild(labelFoto);
        div.appendChild(selectFoto);

        container.appendChild(div);
    }
}

function enviar() {
    const num = parseInt(document.getElementById('numLineas').value);
    const resultados = [];

    for (let i = 1; i <= num; i++) {
        const nombre = document.querySelector(`input[name="linea${i}"]`).value.trim();
        const foto = document.querySelector(`select[name="foto${i}"]`).value;
        if (!nombre) {
            alert(`Debe indicar el nombre de la línea ${i}`);
            return;
        }
        resultados.push({ nombre, foto });
    }

    // Aquí iría la llamada a tu proxy de Netlify para disparar el workflow
    console.log('Datos a enviar:', resultados);
    alert('Solicitud preparada. Revise la consola para ver los datos.');
}
</script>

</body>
</html>


